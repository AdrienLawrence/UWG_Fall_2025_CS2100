<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor - ScribeAI</title>
    <link rel="stylesheet" href="project.css">
</head>
<body>
    <div class="editor-container">

        <!-- Simple Sidebar -->
        <div class="sidebar">
            <!-- Character Counter -->
            <div class="sidebar-section">
                <div class="sidebar-label">Character Count</div>
                <div class="character-counter">
                    <span id="char-count">0</span>/2000
                </div>
            </div>

            <!-- File options -->
            <div class="sidebar-section">
                <div class="sidebar-label">File</div>
                <button type="button" class="sidebar-btn" id="save-btn">Save</button>
                <button type="button" class="sidebar-btn" onclick="location.href='notebooks.html'">Home</button>
            </div>
        </div>

        <!-- Navigation Arrows -->
        <div class="navigation">
            <button class="nav-arrow" aria-label="Previous page" onclick="navigatePage(-1)">
                ‹
            </button>
            <button class="nav-arrow" aria-label="Next page" onclick="navigatePage(1)">
                ›
            </button>
        </div>

        <!-- Main Content with Properly Sized Text Box -->
        <div class="main-content">
            <div class="paper">
                <input type="text" class="title-input" id="page-title" 
                       placeholder="Page Title">
                
                <!-- Full Page Text Area -->
                <textarea class="editor-textarea" id="editor-content" 
                          placeholder="Start typing your notes here..."></textarea>
                
                <!-- Simple Status -->
                <div class="editor-status">
                    <span id="status-message">Ready to type</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simple character counter and basic functionality
        function initializeEditor() {
            const textarea = document.getElementById('editor-content');
            const charCounter = document.getElementById('char-count');
            const statusMessage = document.getElementById('status-message');
            const saveButton = document.getElementById('save-btn');
            const titleInput = document.getElementById('page-title');
            
            // Load any saved content
            loadSavedContent();
            
            // Character counter
            textarea.addEventListener('input', function() {
                const charCount = this.value.length;
                charCounter.textContent = charCount;
                
                // Update character count colors using CSS classes
                charCounter.classList.remove('char-warning', 'char-danger');
                if (charCount > 1800) {
                    charCounter.classList.add('char-warning');
                } else if (charCount >= 2000) {
                    charCounter.classList.add('char-danger');
                }
                
                // Enforce character limit
                if (charCount > 2000) {
                    this.value = this.value.substring(0, 2000);
                    charCounter.textContent = '2000';
                    charCounter.classList.add('char-danger');
                    statusMessage.textContent = 'Character limit reached!';
                    statusMessage.style.color = '#ef4444';
                    
                    // Clear status message after 3 seconds
                    setTimeout(() => {
                        statusMessage.textContent = 'Ready to type';
                        statusMessage.style.color = '#6b7280';
                    }, 3000);
                }
                
                updateStatus('Unsaved changes');
            });
            
            // Title input tracking
            titleInput.addEventListener('input', function() {
                updateStatus('Unsaved changes');
            });
            
            // Save button functionality
            saveButton.addEventListener('click', function() {
                saveContent();
                statusMessage.textContent = 'Saved successfully!';
                statusMessage.style.color = '#10b981';
                
                // Clear success message after 2 seconds
                setTimeout(() => {
                    statusMessage.textContent = 'All changes saved';
                    statusMessage.style.color = '#6b7280';
                }, 2000);
            });
            
            // Auto-save every 30 seconds
            setInterval(() => {
                if (statusMessage.textContent === 'Unsaved changes') {
                    saveContent();
                    statusMessage.textContent = 'Auto-saved';
                    statusMessage.style.color = '#60a5fa';
                    
                    setTimeout(() => {
                        if (statusMessage.textContent === 'Auto-saved') {
                            statusMessage.textContent = 'All changes saved';
                            statusMessage.style.color = '#6b7280';
                        }
                    }, 2000);
                }
            }, 30000);
            
            // Initial character count update
            updateCharacterCount();
        }
        
        // Update character count on load
        function updateCharacterCount() {
            const textarea = document.getElementById('editor-content');
            const charCount = textarea.value.length;
            const charCounter = document.getElementById('char-count');
            charCounter.textContent = charCount;
            
            charCounter.classList.remove('char-warning', 'char-danger');
            if (charCount > 1800) {
                charCounter.classList.add('char-warning');
            } else if (charCount >= 2000) {
                charCounter.classList.add('char-danger');
            }
        }
        
        // Update status message
        function updateStatus(message) {
            const statusMessage = document.getElementById('status-message');
            statusMessage.textContent = message;
            statusMessage.style.color = '#f59e0b';
        }
        
        // Save content, doesn't actually save anywhere
        function saveContent() {
            const content = {
                title: document.getElementById('page-title').value,
                content: document.getElementById('editor-content').value,
                lastSaved: new Date().toLocaleString()
            };
        }
        
 
        // Simple navigation
        function navigatePage(direction) {
            const pageAction = direction > 0 ? 'next' : 'previous';
            alert(`Navigating to ${pageAction} page (demo feature)`);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializeEditor);
    </script>
</body>
</html>
